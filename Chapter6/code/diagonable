import numpy as np

A = np.array([[1,3,3],
              [-3,-5,-3],
              [3,3,1]])
D, P = np.linalg.eig(A)
Pinv = np.linalg.inv(P)
print(P,"\n",
      np.diag(D),"\n",
      Pinv,"\n=",
      P @ np.diag(D) @ Pinv,"\n")

B = np.array([[3,0,0],[0,2,1],[0,0,2]])
D, P = np.linalg.eig(B)
Pinv = np.linalg.inv(P)
print(P,"\n",
      np.diag(D),"\n",
      Pinv,"\n=",
      P @ np.diag(D) @ Pinv,"\n!=",
      B)
